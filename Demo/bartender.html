<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bartender Bill Booking - Club Management System</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: 2rem auto;
            padding: 1rem;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .left-section, .right-section {
            flex: 1;
            padding: 1rem;
        }
        .left-section {
            max-width: 700px;
        }
        .product-categories, .product-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        .category, .product {
            flex: 1 1 120px;
            background-color: #007bff;
            color: #fff;
            text-align: center;
            padding: 0.75rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .category:hover, .product:hover {
            background-color: #0056b3;
        }
        .right-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .member-info, .table-status, .order-details, .totals, .actions {
            background-color: #f4f4f4;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .order-details table, .totals table {
            width: 100%;
            border-collapse: collapse;
        }
        .order-details th, .order-details td, .totals th, .totals td {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid #ddd;
        }
        .order-details th {
            background-color: #007bff;
            color: #fff;
        }
        .totals td {
            text-align: right;
        }
        .totals td:last-child {
            font-weight: 700;
        }
        .actions button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        .actions button.print {
            background-color: #28a745;
            color: #fff;
        }
        .actions button.print:hover {
            background-color: #218838;
        }
        .actions button.clear {
            background-color: #dc3545;
            color: #fff;
        }
        .actions button.clear:hover {
            background-color: #c82333;
        }
        @media (max-width: 768px) {
            .left-section, .right-section {
                flex: 1 1 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="left-section">
            <div class="member-info">
                <label for="member-id">Member ID:</label>
                <input type="text" id="member-id">
                <div id="member-details"></div>
            </div>
            <div class="product-categories">
                <div class="category" onclick="showProducts('BAKERY')">BAKERY</div>
                <div class="category" onclick="showProducts('BANQUET')">BANQUET</div>
                <div class="category" onclick="showProducts('CAFE KONNECT')">CAFE KONNECT</div>
                <div class="category" onclick="showProducts('CHINESE')">CHINESE</div>
                <div class="category" onclick="showProducts('CLUB DESSERT')">CLUB DESSERT</div>
                <div class="category" onclick="showProducts('COCKTAIL')">COCKTAIL</div>
                <div class="category" onclick="showProducts('COFFEE SHOP')">COFFEE SHOP</div>
                <div class="category" onclick="showProducts('GIANI ICE CREAM')">GIANI ICE CREAM</div>
                <div class="category" onclick="showProducts('GUEST')">GUEST</div>
                <div class="category" onclick="showProducts('INDIAN')">INDIAN</div>
                <div class="category" onclick="showProducts('ITALIAN')">ITALIAN</div>
            </div>
            <div class="product-list" id="product-list">
                <!-- Products will be dynamically added here -->
            </div>
        </div>
        <div class="right-section">
            <div class="table-status">
                <h3>Table Status</h3>
                <p>Table: Lounge 6</p>
                <p>Status: Chinese 10</p>
            </div>
            <div class="order-details">
                <h3>Order Details</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Billing Name</th>
                            <th>Qty</th>
                            <th>Amt</th>
                        </tr>
                    </thead>
                    <tbody id="order-table">
                        <!-- Order items will be dynamically added here -->
                    </tbody>
                </table>
            </div>
            <div class="totals">
                <table>
                    <tbody>
                        <tr>
                            <td>Sub Total</td>
                            <td id="sub-total">$0</td>
                        </tr>
                        <tr>
                            <td>Vat (Rs)</td>
                            <td id="vat">$0</td>
                        </tr>
                        <tr>
                            <td>Discount</td>
                            <td id="discount">$0</td>
                        </tr>
                        <tr>
                            <td>Total Payable</td>
                            <td id="total-payable">$0</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="actions">
                <button class="print" onclick="printOrder()">Print Order</button>
                <button class="clear" onclick="clearOrder()">Clear</button>
            </div>
        </div>
    </div>

    <!-- KOT Print Template -->
    <div id="kot-print" style="display:none;">
        <h3>Kitchen Order Ticket (KOT)</h3>
        <p>Table: Lounge 6</p>
        <table>
            <thead>
                <tr>
                    <th>Billing Name</th>
                    <th>Qty</th>
                </tr>
            </thead>
            <tbody id="kot-table">
                <!-- KOT items will be dynamically added here -->
            </tbody>
        </table>
    </div>

    <!-- Invoice Print Template -->
    <div id="invoice-print" style="display:none;">
        <h3>Invoice</h3>
        <p>Member ID: <span id="invoice-member-id"></span></p>
        <p>Table: Lounge 6</p>
        <table>
            <thead>
                <tr>
                    <th>Billing Name</th>
                    <th>Qty</th>
                    <th>Amt</th>
                </tr>
            </thead>
            <tbody id="invoice-table">
                <!-- Invoice items will be dynamically added here -->
            </tbody>
        </table>
        <table>
            <tbody>
                <tr>
                    <td>Sub Total</td>
                    <td id="invoice-sub-total">$0</td>
                </tr>
                <tr>
                    <td>Vat (Rs)</td>
                    <td id="invoice-vat">$0</td>
                </tr>
                <tr>
                    <td>Discount</td>
                    <td id="invoice-discount">$0</td>
                </tr>
                <tr>
                    <td>Total Payable</td>
                    <td id="invoice-total-payable">$0</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        // Sample product data
        const products = {
            "BAKERY": [
                { name: "TIRAMISU", price: 155 },
                { name: "APPLE PIE", price: 140 },
                // Add more products as needed
            ],
            "BANQUET": [
                { name: "BROWNIE", price: 150 },
                { name: "DIAM TARD", price: 160 },
                // Add more products as needed
            ],
            // Add more categories and products as needed
        };

        // Sample member data
        const members = {
            "12345": { name: "John Doe", balance: 100 },
            "67890": { name: "Jane Smith", balance: 200 },
            // Add more members as needed
        };

        function showProducts(category) {
            const productContainer = document.getElementById('product-list');
            productContainer.innerHTML = '';
            products[category].forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product';
                productCard.innerText = `${product.name} (${product.price})`;
                productCard.onclick = () => addToOrder(product);
                productContainer.appendChild(productCard);
            });
        }

        function addToOrder(product) {
            const orderTable = document.getElementById('order-table');
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${product.name}</td>
                <td>1</td>
                <td>${product.price}</td>
            `;
            orderTable.appendChild(row);
            updateTotals();
        }

        function updateTotals() {
            const orderTable = document.getElementById('order-table');
            let subTotal = 0;
            for (let row of orderTable.rows) {
                subTotal += parseFloat(row.cells[2].innerText);
            }
            const vat = subTotal * 0.05;
            const discount = 0;
            const totalPayable = subTotal + vat - discount;
            document.getElementById('sub-total').innerText = `$${subTotal}`;
            document.getElementById('vat').innerText = `$${vat}`;
            document.getElementById('discount').innerText = `$${discount}`;
            document.getElementById('total-payable').innerText = `$${totalPayable}`;
        }

        function clearOrder() {
            document.getElementById('order-table').innerHTML = '';
            updateTotals();
        }

        function printOrder() {
            // Print KOT
            const kotTable = document.getElementById('kot-table');
            kotTable.innerHTML = '';
            const orderTable = document.getElementById('order-table');
            for (let row of orderTable.rows) {
                const kotRow = document.createElement('tr');
                kotRow.innerHTML = `
                    <td>${row.cells[0].innerText}</td>
                    <td>${row.cells[1].innerText}</td>
                `;
                kotTable.appendChild(kotRow);
            }
            const kotPrint = document.getElementById('kot-print').innerHTML;
            const newWindow = window.open('', '', 'width=600,height=400');
            newWindow.document.write(kotPrint);
            newWindow.print();
            newWindow.close();

            // Print Invoice
            document.getElementById('invoice-member-id').innerText = document.getElementById('member-id').value;
            document.getElementById('invoice-sub-total').innerText = document.getElementById('sub-total').innerText;
            document.getElementById('invoice-vat').innerText = document.getElementById('vat').innerText;
            document.getElementById('invoice-discount').innerText = document.getElementById('discount').innerText;
            document.getElementById('invoice-total-payable').innerText = document.getElementById('total-payable').innerText;
            const invoiceTable = document.getElementById('invoice-table');
            invoiceTable.innerHTML = '';
            for (let row of orderTable.rows) {
                const invoiceRow = document.createElement('tr');
                invoiceRow.innerHTML = `
                    <td>${row.cells[0].innerText}</td>
                    <td>${row.cells[1].innerText}</td>
                    <td>${row.cells[2].innerText}</td>
                `;
                invoiceTable.appendChild(invoiceRow);
            }
            const invoicePrint = document.getElementById('invoice-print').innerHTML;
            const invoiceWindow = window.open('', '', 'width=600,height=400');
            invoiceWindow.document.write(invoicePrint);
            invoiceWindow.print();
            invoiceWindow.close();
        }

        document.getElementById('member-id').addEventListener('input', function() {
            const memberId = this.value;
            const memberDetails = members[memberId];
            const memberDetailsDiv = document.getElementById('member-details');
            if (memberDetails) {
                memberDetailsDiv.innerHTML = `
                    <p>Name: ${memberDetails.name}</p>
                    <p><strong>Balance: $${memberDetails.balance}</strong></p>
                `;
            } else {
                memberDetailsDiv.innerHTML = '<p>Member not found</p>';
            }
        });
    </script>
</body>
</html>
